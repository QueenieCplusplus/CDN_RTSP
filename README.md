# CDN_RTSP
即時串流傳輸協定

其實 HTTP, Hyper Text Transport Protocol 也是串流媒體傳輸協定的一種，而 RTSP 即時串流傳輸協定用於具有即時性的串流媒體撥放控制，它在用戶端和伺服器端建立起即時（連結）階段，用戶端可以發起 play、pause、rewind、fast forward、quit 等控制指令，從用戶端發起連接請求至連接中斷的整個過程中，伺服器會持續監聽客戶端狀態，持續不間斷的發送媒體資料封包，保障傳輸品質。

RTSP 僅支援 3GP 格式，對 MP4、FLV、TS 等格式不支援。RSTP 自我調整串流媒體，會同時在檔案的 SDP, Session Description Protocol 資訊中增加資料。

關於切換串流頻道由客戶端還是伺服器端兩方中一方的機制：

* 如客戶端得到多串流速率檔案的 SDP 資料，可由客戶端發起切換指令。

* 如伺服器端主動進行串流速率切換，卻沒有發通知予客戶端，則客戶端之前的 SDP 資訊沒有更新，倘若客戶端再次主動發起串流速度切換請求時，則傳送的參數與目前使用的串流速度資料不一致，將進一步導致切換失敗。

* 如果伺服器端和客戶端同時發起串流速度切換，哪一方優先順序更高。

3GPP TS26.234 標準亦規範了能力協商的方式：

1. 用戶端與伺服器端建立連接時，請求中的描述檔案會攜帶 Capability Profile 的 URL 位址，伺服器下載後獲得用戶端的能力集（解析度、緩存容量、解碼器）。

2. 用戶端從串流平台上取得 URL 時，就會將其能力集檔案的 URL 位置告知串流平台，由串流平台下載該檔案後進行解析獲得用戶端能力集資訊，並將其中關鍵參數嵌入至 URL 參數欄位中，伺服器則透過串流平台改寫的 URL 獲得用戶端的能力集。


# HTTP 

* HTTP Progressive Download 

ＨTTP 擁有 HTTP Progressive Download 漸進式下載，是一種 HTTP 的串流媒體傳輸協定，當用戶端向伺服器端發起視訊點播 VOD 、AOD 請求時，伺服器透過 HTTP 方式向用戶端傳輸視訊內容，傳輸速率取決於用戶端、網路端、伺服器端的網路頻寬，當用戶端下載內容（關鍵影格）至一定大小時即開始播放，邊播放邊持續下載後續內容，像是 Youtube 、土豆視訊均採用此方式，視訊封裝格式支援 .flv、.mp4、.ts、.fv4。

* HTTP Adaptive Streaming

Http 自我調整串流媒體，將節目內容進行切片處理（640 * 480），每一內容切成一小段視訊內容，用戶端對每個短片都發起 Http 協定為基礎的內容請求，伺服器端則被動地回應用戶端請求，用戶端根據自己網路狀況請求不同串流速率的檔案內容，實現自我調整。



